<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<style>
		html,
		body {
			margin: 0;
			padding: 0;
		}
	</style>
</head>

<body>
	<div id="app">
		<div><button id="btn1">地面视角</button>
			<button id="btn2">飞行视角</button>
		</div>
		<video controls id="videoElement"></video>
	</div>
</body><style>
	#app {
		position: relative;
	}
	#btn1,
	#btn2 {
		/* position: absolute; */
		top: 0;
		padding: 10px 20px;
		background-color: #333;
		color: #fff;
		border: none;
		outline: none;
		cursor: pointer;
		font-size: 16px;
		font-weight: bold;
		transition: all 0.3s ease-in-out;
	}
	#btn1:hover,
	#btn2:hover {
		background-color: #555;
	}
	#btn1.selected,
	#btn2.selected {
		background-color: #00bfff;
	}
	#btn1.selected:hover,
	#btn2.selected:hover {
		background-color: #00a5c9;
	}
	#btn1.selected ~ #btn2 {
		left: 120px;
	}
	#btn2.selected ~ #btn1 {
		left: -120px;
	}
</style>


<script src="./flv.min.js"></script>
<script>
	window.onload = createFlvPlayer('url1')

	const btn1 = document.querySelector("#btn1")
	const btn2 = document.querySelector("#btn2")

	btn1.classList.add('selected')

	btn1.addEventListener('click',()=>{
		btn1.classList.add('selected')
		btn2.classList.remove('selected')
		createFlvPlayer('url1')
	})
	btn2.addEventListener('click',()=>{
		btn2.classList.add('selected')
		btn1.classList.remove('selected')
		createFlvPlayer('url2')
	})


	function createFlvPlayer(url) {
		if (flvjs.isSupported()) {
			const videoElement = document.getElementById('videoElement')
			const paramsObj = new URLSearchParams(window.location.search)
			const videoUrl = paramsObj.get(url)
			const width = paramsObj.get('width')
			videoElement.style.width = width + 'px'

			const flvPlayer = flvjs.createPlayer({
				type: 'flv',
				isLive: true,
				url: videoUrl
			})

			flvPlayer.attachMediaElement(videoElement)
			flvPlayer.load()
			flvPlayer.play()
		}
	}
</script>

</html>